<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>脈動する白い点線アニメーション（トレース版テンプレート）</title>
<style>
  :root {
    /* 太線の太さと、白点線の太さ（黒の内側に収める） */
    --outer-stroke: 28;   /* 黒い線 */
    --inner-stroke: 10;   /* 白い点線 */
    --dash: 32;           /* 白四角の長さ */
    --gap: 28;            /* 白四角の間隔 */
    --speed: 2.8s;        /* 流れるスピード */
  }

  html, body { height: 100%; }

  body {
    margin: 0;
    background: #f6f5f2;
    display: grid;
    place-items: center;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
  }

  .stage {
    width: min(84vw, 960px);
    aspect-ratio: 4 / 3;
  }

  svg {
    width: 100%;
    height: 100%;
    display: block;
  }

  /* 黒い線（外形・内側の多角形・放射の線） */
 /* 黒線はそのまま */

.outline {

  fill: none;

  stroke: #111;

  stroke-width: 28px;          /* var(--outer-stroke) の代わりに直値 */

  stroke-linejoin: round;

  stroke-linecap: round;

}

.divider {

  fill: none;

  stroke: #111;

  stroke-width: 28px;          /* 同じく直値 */

  stroke-linecap: round;

}

/* 白い動く点線（Firefox検証用・超ベタ書き） */

.dotted,

.divider-dotted {

  fill: none;

  stroke: #fff;

  stroke-linecap: butt;

  stroke-width: 10px;          /* var(--inner-stroke) → 固定値 */

  stroke-dasharray: 32px 28px; /* var(--dash) var(--gap) → 固定値 */

  animation: flowOneWay 2.8s linear infinite; /* var(--speed) → 固定値 */

}

/* アニメーション：こっちもcalc()もvar()も排除 */

@keyframes flowOneWay {

  0% {

    stroke-dashoffset: 0px;

  }

  100% {

    stroke-dashoffset: -60px;  /* 32 + 28 = 60。ひとコマ分だけ前に送る */

  }

}
 
</style>
</head>
<body>
<div class="stage">
  <!--
    ▼ 使い方（画像トレース → ここに貼る）
    1) 画像をIllustrator or Inkscapeでトレース。
       - 外側の七角形、内側の五角形、各頂点を結ぶ内部分割線を“別々のパス”にする。
    2) それぞれの d 属性を下にコピペする。
    3) CSS変数 (--dash, --gap, --inner-stroke) で見た目を調整。
  -->
  <svg viewBox="0 0 1200 900"
       xmlns="http://www.w3.org/2000/svg"
       aria-label="pulsating pebble">

    <defs>
      <!-- 将来、塗り用に使うならここ -->
      <clipPath id="outer-clip">
        <path id="outerPathClip"
              d="M 100,450 260,240 630,210 980,360 920,700 540,740 220,640 Z" />
      </clipPath>
    </defs>

    <!-- 外側の七角形：黒太線＋白点線（同じd属性を2枚重ね） -->
    <path id="outerPath" class="outline"
          d="M 100,450 260,240 630,210 980,360 920,700 540,740 220,640 Z" />
    <path class="dotted"
          d="M 100,450 260,240 630,210 980,360 920,700 540,740 220,640 Z" />

    <!-- 内側の五角形（少し左にオフセット）：黒＋白 -->
    <path id="innerPentagon" class="outline"
          d="M 420,470 520,340 700,370 750,520 600,590 Z" />
    <path class="dotted"
          d="M 420,470 520,340 700,370 750,520 600,590 Z" />

    <!-- 頂点接続用の内部分割線（5本） -->
    <!-- 注意：必ず L を入れる -->
    <path class="divider" d="M 420,470 L 100,450" />
    <path class="divider" d="M 520,340 L 260,240" />
    <path class="divider" d="M 700,370 L 630,210" />
    <path class="divider" d="M 750,520 L 980,360" />
    <path class="divider" d="M 600,590 L 920,700" />

    <path class="divider-dotted" d="M 420,470 L 100,450" />
    <path class="divider-dotted" d="M 520,340 L 260,240" />
    <path class="divider-dotted" d="M 700,370 L 630,210" />
    <path class="divider-dotted" d="M 750,520 L 980,360" />
    <path class="divider-dotted" d="M 600,590 L 920,700" />

    <!-- グレーの分割面を塗りたい場合は clipPath="url(#outer-clip)" で追加できる -->
    <!--
    <g clip-path="url(#outer-clip)">
      <polygon class="fillFacet" points="..." />
    </g>
    -->
  </svg>
</div>
</body>
</html>
